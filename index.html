<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>CatGpt V1</title>

<!-- Favicon matching the #logo gradient -->
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNCIgaGVpZ2h0PSIzNCI+PHJlY3Qgd2lkdGg9IjM0IiBoZWlnaHQ9IjM0IiByeD0iNiIgZmlsbD0idXJsKCNncmFkKSIvPjxsaW5lYXJHcmFkaWVudCBpZD0iZ3JhZCIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMTAwJSI+PHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzNhN2JmZiIvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzlhNTVmZiIvPjwvbGluZWFyR3JhZGllbnQ+PC9zdmc+">

<style>
body {
  margin: 0;
  background: #0d1117;
  color: white;
  font-family: Arial, sans-serif;
  height: 100vh;
  display: flex;
  flex-direction: column;
}

#topbar {
  background: #161b22;
  padding: 10px 20px;
  display: flex;
  align-items: center;
  gap: 10px;
  border-bottom: 1px solid #30363d;
}

#logo {
  width: 34px;
  height: 34px;
  border-radius: 6px;
  background: linear-gradient(135deg, #3a7bff, #9a55ff);
}

#title {
  font-size: 20px;
  font-weight: bold;
}

#chat-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  height: 100vh;
}

#chat {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
}

.message {
  max-width: 75%;
  padding: 12px 16px;
  margin-bottom: 12px;
  border-radius: 10px;
  line-height: 1.4;
}

.you {
  background: #238636;
  margin-left: auto;
}

.ai {
  background: #30363d;
  margin-right: auto;
  white-space: pre-wrap;
}

#input-area {
  display: flex;
  padding: 12px;
  background: #161b22;
  border-top: 1px solid #30363d;
  gap: 10px;
}

#msg {
  flex: 1;
  padding: 10px;
  border-radius: 6px;
  background: #0d1117;
  border: 1px solid #30363d;
  color: white;
}

#send {
  padding: 10px 16px;
  background: #3a7bff;
  border: none;
  color: white;
  border-radius: 6px;
  cursor: pointer;
}
</style>
</head>
<body>

<div id="topbar">
  <div id="logo"></div>
  <div id="title">CatGpt V1</div>
</div>

<div id="chat-container">
  <div id="chat"></div>

  <div id="input-area">
    <input id="msg" placeholder="Ask NeuraMind anything...">
    <button id="send">Send</button>
  </div>
</div>

<script>
/* =====================================================
     FUNCTIONS FIRST — AS REQUESTED
===================================================== */

/* ---------- Massive Knowledge Base ---------- */
const KNOWLEDGE = {
  "earth":"Earth is the third planet from the Sun with life and water.",
  "sun":"The Sun is a massive star powered by nuclear fusion.",
  "moon":"The Moon is Earth's natural satellite and affects tides.",
  "gravity":"Gravity is a force that attracts masses together.",
  "atom":"An atom is the smallest unit of matter.",
  "electricity":"Electricity is the flow of electrons.",
  "heart":"The heart pumps blood throughout the body.",
  "brain":"The brain controls thought and movement.",
  "cpu":"A CPU executes instructions and calculations.",
  "gpu":"A GPU accelerates graphics and AI tasks.",
  "wifi":"WiFi transmits data using radio waves.",
  "internet":"The internet is a worldwide data network.",
  "galaxy":"A galaxy is a massive collection of stars and planets.",
  "black hole":"A black hole has gravity so strong that light cannot escape."
};

/* ---------- Smart Math Solver ---------- */
function solveMath(input) {
  let q = input.toLowerCase();

  q = q.replace(/multiplied by/g, "*");
  q = q.replace(/times/g, "*");
  q = q.replace(/x/g, "*");
  q = q.replace(/plus/g, "+");
  q = q.replace(/minus/g, "-");
  q = q.replace(/divided by/g, "/");
  q = q.replace(/over/g, "/");
  q = q.replace(/percent of/g, "*0.01*");
  q = q.replace(/%/g, "*0.01");

  const math = q.match(/[0-9\.\s\+\-\*\/\(\)]+/g);
  if (!math) return null;

  try {
    let result = eval(math[0]);
    if (!isNaN(result)) return result;
  } catch {}

  return null;
}

/* ---------- GPT-Style Brain + Geometry ---------- */
let userName = "User"; // Default username

function UltraBrain(input) {
  const q = input.toLowerCase();
  let intro = userName ? userName + ", " : "";

  // --- Check for math ---
  let math = solveMath(input);
  if (math !== null) return intro + "The answer is: " + math;

  // --- Geometry questions ---
  if (q.includes("triangle") && q.includes("right") && q.includes("leg") && q.includes("hypotenuse")) {
    const nums = input.match(/[0-9]+/g);
    if (nums && nums.length >= 2) {
      const leg = parseFloat(nums[0]);
      const hyp = parseFloat(nums[1]);
      const otherLeg = Math.sqrt(hyp*hyp - leg*leg);
      const area = (leg * otherLeg)/2;
      return intro + `The other leg is ${otherLeg.toFixed(2)} and the area is ${area.toFixed(2)}.`;
    }
  }

  if (q.includes("area of circle")) {
    const nums = input.match(/[0-9]+/g);
    if (nums) {
      const r = parseFloat(nums[0]);
      const area = Math.PI * r * r;
      return intro + `The area of the circle is ${area.toFixed(2)}.`;
    }
  }

  if (q.includes("perimeter of rectangle") || q.includes("perimeter of square")) {
    const nums = input.match(/[0-9]+/g);
    if (nums && nums.length >= 2) {
      const w = parseFloat(nums[0]);
      const h = parseFloat(nums[1]);
      const perimeter = 2*(w+h);
      return intro + `The perimeter is ${perimeter.toFixed(2)}.`;
    }
  }

  // --- General Knowledge ---
  for (const key in KNOWLEDGE)
    if (q.includes(key)) return intro + KNOWLEDGE[key];

  if (q.startsWith("what is"))
    return intro + "It refers to something that depends on context—explain more.";

  if (q.startsWith("who is"))
    return intro + "Tell me more about the person you're asking for.";

  if (q.includes("why"))
    return intro + "Here's the reasoning behind that: " + input;

  if (q.includes("how"))
    return intro + "Let me explain how: First understand the basics, then apply them.";

  return intro +
    "Here's what I understand from your question: \"" + input +
    "\". If you give more detail, I can give a precise answer.";
}

/* ---------- Typing Animation ---------- */
function typeMessage(div, text, speed = 22) {
  let i = 0;
  function t() {
    if (i < text.length) {
      div.textContent += text.charAt(i);
      i++;
      setTimeout(t, speed);
    }
  }
  t();
}

/* =====================================================
     UI + CHAT SYSTEM
===================================================== */
const chat = document.getElementById("chat");
const msg = document.getElementById("msg");

function addUserMessage(text) {
  const div = document.createElement("div");
  div.className = "message you";
  div.textContent = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function addAIMessage(text) {
  const div = document.createElement("div");
  div.className = "message ai";
  chat.appendChild(div);
  typeMessage(div, text);
  chat.scrollTop = chat.scrollHeight;
}

function runAI() {
  const text = msg.value.trim();
  if (!text) return;
  msg.value = "";

  addUserMessage(text);

  setTimeout(() => {
    const reply = UltraBrain(text);
    addAIMessage(reply);
  }, 300);
}

document.getElementById("send").onclick = runAI;
msg.onkeydown = e => (e.key === "Enter" ? runAI() : null);

/* ---------- Welcome message ---------- */
addAIMessage(`Welcome ${userName}. I'm CatGptV1. Ask me anything, including geometry questions.`);
</script>

</body>
</html>
